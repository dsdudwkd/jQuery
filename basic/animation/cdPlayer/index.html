<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cd플레이어</title>
    <link rel="stylesheet" href="./common.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js'></script>
    <!--jQuery 소스삽입  cdnjs 플러그인 사용 -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js'></script>
    <!--jQuery-ui 소스삽입 (aniamtion 기능, 다양한 ui component)  cdnjs 플러그인 사용 -->
    <script>
        $(document).ready(function(){
            let item = $('.container').children('.item');
            let dot = $('.dot-list').children();
            let itemNum = 0;
            let pageNum = item.size(); //size() = length()
            console.log(pageNum);

            itemActive();
            dotActive();
            $('.next').on('click', onNext);
            $('.prev').on('click', onPrev);
            $(dot).on('click', onDot)

            function onNext(){
                if(itemNum < pageNum-1){
                    itemNum++;
                    console.log(itemNum);
                }else{
                    itemNum = 0;
                }
                itemActive();
                dotActive();
            }
            
            function onPrev(){
                if(itemNum > 0){
                    itemNum--;
                    console.log(itemNum);
                }else{
                    itemNum = pageNum-1;
                    console.log(itemNum);
                }
                itemActive();
                dotActive();
            }
            
            function onDot(){
                itemNum = dot.index(this);
                itemActive();
                dotActive();
            }

            function itemActive(){
                item.removeClass('active'); //리셋일 땐 순번을 굳이 넣지 않아도 된다
                item.eq(itemNum).addClass('active'); //addClass() = classList.add()의 제이쿼리 버전
            }

            function dotActive(){
                dot.removeClass('active');
                dot.eq(itemNum).addClass('active');
            }
        })
    </script>

</head>

<body>

    <div class="container">
        <div class="item">
            <div class="disk">
                <div class="disk-inner"></div>
            </div>
            <a href="https://www.youtube.com/watch?v=nM0xDI5R50E" target="_blank" class="cover">
                <img src="image/iu_0.jpg" alt="커버이미지">
            </a>
        </div>

        <div class="item">
            <div class="disk">
                <div class="disk-inner"></div>
            </div>
            <a href="https://www.youtube.com/watch?v=nM0xDI5R50E" target="_blank" class="cover">
                <img src="image/iu_1.jpg" alt="커버이미지">
            </a>
        </div>

        <div class="item">
            <div class="disk">
                <div class="disk-inner"></div>
            </div>
            <a href="https://www.youtube.com/watch?v=nM0xDI5R50E" target="_blank" class="cover">
                <img src="image/iu_2.jpg" alt="커버이미지">
            </a>
        </div>

        <div class="item">
            <div class="disk">
                <div class="disk-inner"></div>
            </div>
            <a href="https://www.youtube.com/watch?v=nM0xDI5R50E" target="_blank" class="cover">
                <img src="image/iu_3.jpg" alt="커버이미지">
            </a>
        </div>
    </div>

    <div class="btn-container">
        <button class="prev">PREV</button>
        <ul class="dot-list">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
        <button class="next">NEXT</button>
    </div>

</body>

</html>