<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>slide_menu</title>

  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/style.css">  

  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js'></script>
  <!--jQuery 소스삽입  cdnjs 플러그인 사용 -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js'></script>
  <!--jQuery-ui 소스삽입 (aniamtion 기능, 다양한 ui component)  cdnjs 플러그인 사용 -->

  <script>
    /* 
    1. hover한 메인 메뉴의 서브메뉴만 slideDown()으로 내려오게 하기
    2. b배경도 서브메뉴와 함께 올라가고 내려가야 함

    애니메이션이 실행하는 시간보다 이벤트를 실행하는 시간이 더 빠를 경우
    이벤트가 누적되어서 예약하게 되므로 계속 실행을 하게 된다

    1. 이벤트가 실행될 때 다른 이벤트가 들어올 경우
    - 현재 실행되는 이벤트를 즉시 종료하고 현재 들어온 이벤트를 우선으로 실행하는 로직 = 선택자.stop().이벤트메서드()
    - 이벤트가 실행되는 도중에는 다른 이벤트를 예약받지 않게하는 로직 = 선택자.not(':animated').이벤트메서드()

    ("#sub_bg:not(:animated)") -  선택자에 직접적으로 적용하는 방식
    변수명.not(':animated')는 변수명에 적용하는 방식
    */
    $(document).ready(function(){
      let mainMenu = $('#mainmenu_list').children();
      let submenu = $('.submenu_list');
      let sub_bg = $('#sub_bg');

      submenu.hide();
      sub_bg.css({'display':'none'});

      $(mainMenu).on('mouseenter',function(){
        // submenu.stop().slideUp(500); //리셋은 맨 위에서 실행하는게 좋다
        submenu.not(':animated').slideUp(500);
        sub_bg.slideDown(500);
        
        // $(this).children().stop().slideDown(500); 
        /* 
        $(this).children().stop()
        $(this).children().slideDown(500)
        위의 구문은 이 의미와 같다
        */
        $(this).children().not(':animated').slideDown(500);
      })

      $('#header_wrap').on('mouseleave',function(){
        // submenu.stop().slideUp(500);
        sub_bg.slideUp(500);
        submenu.not(':animated').slideUP(500);
      })
    })
  </script>


</head>
<body>

    <div id="header_wrap">
        <div id="header_inner">
          <h1 id="logo">
            <a href="index.php"><img src="images/logo.gif" alt="글렘쉘"></a>
          </h1>
          
          <h2 class="hidden">메인메뉴</h2>
          <ul id="mainmenu_list">
            <li><a href="brand.php"><img src="images/mainmenu_01.gif" alt="브랜드소개"></a>
              <ul class="submenu_list">
                <li><a href="#">BRAND</a></li>
                <li><a href="#">DESIGN</a></li>
                <li><a href="#">BI</a></li>
              </ul>
            
            </li>
            <li><a href="#"><img src="images/mainmenu_02.gif" alt="컬렉션"></a>
              <ul class="submenu_list">
                <li><a href="#">CRYSTAL</a></li>
                <li><a href="#">NANO</a></li>
                <li><a href="#">MAGIC</a></li>
                <li><a href="#">PUZZLE</a></li>
              </ul>        
            </li>
            <li><a href="#"><img src="images/mainmenu_03.gif" alt="매장안내"></a>
              <ul class="submenu_list">
                <li><a href="#">ON-LINE</a></li>
                <li><a href="#">OFF-LINE</a></li>
                <li><a href="#">B2B</a></li>            
              </ul>   
            
            </li>
            <li><a href="#"><img src="images/mainmenu_04.gif" alt="리뷰"></a>
              <ul class="submenu_list">
                <li><a href="#">EVENT</a></li>
                <li><a href="#">NOTICE</a></li>
                <li><a href="#">NEWS</a></li>
                <li><a href="#">INTERVIEW</a></li>             
              </ul>       
            </li>
            <li><a href="#"><img src="images/mainmenu_05.gif" alt="고객센터"></a>
              <ul class="submenu_list">
                <li><a href="#">INSTALL</a></li>
                <li><a href="#">POWER REVIEW</a></li>
                <li><a href="#">Q&A</a></li>
                <li><a href="#">FAQ</a></li>             
              </ul>       
            </li>
          </ul>
          <h2 id="bestmenu"><a href="#"><img src="images/best_btn.gif" alt="주간베스트상품"></a></h2>
        </div> 
    
       <div id="sub_bg"></div> <!--서브메뉴배경-->
    
      </div>
  
</body>
</html>